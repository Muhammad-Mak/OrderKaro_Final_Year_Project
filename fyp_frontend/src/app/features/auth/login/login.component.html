<!-- login.component.html -->
<!-- This template provides a styled login form for Staff and Admin users.
     It supports real-time form validation, success/error feedback, and redirect to registration. -->

<div class="outer">
  <div class="container">
    <div class="row">
      <!-- Centered column for form card -->
      <div class="offset-md-2 col-lg-5 col-md-7 offset-lg-4 offset-md-3">
        <div class="panel border bg-white">
          
          <!-- Panel Header -->
          <div class="panel-heading">
            <h3 class="pt-3 font-weight-bold">Staff And Admin Login Only</h3>
          </div>

          <!-- Form Body -->
          <div class="panel-body p-3">
            <!-- Login Form -->
            <form [formGroup]="form" (ngSubmit)="submit()">

              <!-- Email Field -->
              <div class="form-group pt-3">
                <div class="input-field">
                  <span class="fa fa-envelope p-2"></span>
                  <input type="email" formControlName="email" placeholder="Email" />
                </div>
              </div>
              <small 
                *ngIf="form.controls['email'].invalid && form.controls['email'].touched" 
                class="text-danger">
                * Email is required
              </small>

              <!-- Password Field -->
              <div class="form-group pt-3">
                <div class="input-field">
                  <span class="fa fa-lock p-2"></span>
                  <input type="password" formControlName="password" placeholder="Password" />
                </div>
              </div>
              <small 
                *ngIf="form.controls['password'].invalid && form.controls['password'].touched"
                class="text-danger">
                * Password is required
              </small>

              <!-- Submit Button -->
              <button type="submit" class="btn btn-block mt-4 w-100">Login</button>

              <!-- Redirect to Register -->
              <div class="text-center pt-4 text-muted">
                Don't Have An Account?
                <button class="btn-link" (click)="goToRegister()" type="button">Register</button>
              </div>
            </form>

            <!-- Success & Error Feedback -->
            <div *ngIf="successMessage" class="alert success">{{ successMessage }}</div>
            <div *ngIf="errorMessage" class="alert error">{{ errorMessage }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
